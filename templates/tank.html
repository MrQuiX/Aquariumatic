<!DOCTYPE html>
<html>
<head>
  <title>Aquariumatic</title>
  <script src="static/scripts/jquery-2.2.0.min.js"></script>
  <script>
    $(document).ready(function() {
      $("#heating_on, #heating_off").click(function(e) {
        e.preventDefault();
        var heating_value = $(this).val();
        $.post("", {"command":"Heating", "value":heating_value}, function(data) {
            //alert("after heating post");
            $('#results').html('Update: '+data['msg']);
        });
      });
      $("#light_1, #light_2, #light_3").click(function(e) {
        e.preventDefault();
        var light_value = $(this).val();
        $.post("", {"command":"Light", "value":light_value}, function(data) {
            //alert("after light post");
            $('#results').html('Update: '+data['msg']);
        });
      });
      $("#update_status").click(function(e) {
        e.preventDefault();
        $.post("", {"command":"UpdateValues", "value":true}, function(data) {
            //alert("update requested");//
            $('#results').html('Update: ' +data['msg']);
            $('#TempDiv').html('The temperature is: ' +data['TempValue']);
            $('#pHDiv').html('The pH value is: ' +data['pHValue']);
        });
      });
      $("#update_status").click();
    });
</script>
</head>
<body>
<form>
  <button id="heating_on" name="Heating" value="ON">Turn Heater on</button>
  <button id="heating_off" name="Heating" value="OFF">Turn Heater off</button>
  <p></p>
  <button id="light_1" name="Light" value="1">Toggle Front Light</button>
  <button id="light_2" name="Light" value="2">Toggle Light Back Light</button>
  <button id="light_3" name="Light" value="3">Toggle Top Light</button>
  <p></p>
  <button id="update_status" name="UpdateButton">Check my tank</button>
  <div id="results"></div>
</form>
<p></p>
<form>
  <input name="MinTemp" value="20">
  <input name="MaxTemp" value="45">
  <button id="update_temp">Update temperature Threshold</button>
</form>
<p>Currently your aquarium is healthy</p>
<div id="TempDiv"></div>
<div id="pHDiv"></div>
<div id="LightDiv"></div>
<script type="application/javascript">
  var myvar1="{{ test1 }}"
  myvar2="{{ test2 }}";
  document.getElementById("TempDiv").innerHTML = "The temperature is: " + myvar1;
  document.getElementById("pHDiv").innerHTML = "The pH value is: " + myvar2;
</script> 
</body>
</html>
